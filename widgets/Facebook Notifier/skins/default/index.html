<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

    <head>
        <title>Facebook Notifier</title>
        <meta http-equiv="content-type" content="text/html;charset=utf-8" />
        <link rel="stylesheet" type="text/css" href="/common/ui/melange.css" media="screen">
        <script type="text/javascript" src="/common/core/mootools.js" />
        <script type="text/javascript" src="/common/ui/chooser/chooser.js" />
        <script type="text/javascript" src="/common/ui/scrolled/scrolled.js" />
        <style type="text/css">
        .page {
            display: none;
            }
        </style>
    </head>
    
    <body>
        <div class="widget" style="width: 260px;">
            <div class="background">

                <div id="categories" class="chooser">
                    <div class="option" id="friends">
                        Friends
                    </div>
                    <div class="option">
                        Messages
                    </div>
                    <div class="option">
                        Notifications
                    </div>
                </div>

                <div id="content" style="height: 150px;">
                </div>
                    <div id="foo" class="page">
                        <div class="scrolled" style="height: 148px;">
                        </div>
                    </div>
                    <script type="text/javascript">

                    function blubb(arg) {
                        foo.innerHTML = arg[1];
                        }

                    foo = $('foo')

                    $('categories').addEvent('value_changed', function(option) {
                        if (option.id == 'friends') {
                            foo.style.display = 'block';
                            $('content').innerHTML = '';
                            $('content').appendChild(foo);
                            } else {
                            $('content').innerHTML = option.innerHTML;
                            }
                        });

                    widget.api.add_callback('authenticated', function() {
                        widget.api.request_friends()
                    })

                    widget.api.add_callback('update-friends', function(friends) {
                        foo.innerHTML = friends;
                        widget.debug(friends);
                    })
                    </script>
            </div>
        </div>
    </body>

</html>
